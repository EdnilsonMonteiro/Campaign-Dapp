(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{8164:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/show",function(){return t(5730)}])},2469:function(e,r,t){"use strict";var s=t(5893),n=(t(7294),t(5712)),a=t(9008),i=t.n(a),c=t(4683),o=t(6151);t(2906);r.Z=function(e){return(0,s.jsxs)(n.Z,{children:[(0,s.jsx)(i(),{children:(0,s.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/semantic-ui@2/dist/semantic.min.css"})}),(0,s.jsx)(c.Z,{}),e.children,(0,s.jsx)(o.Z,{})]})}},5730:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return P}});var s=t(7568),n=t(1438),a=t(2951),i=t(8029),c=t(460),o=t(655),l=t(5893),d=t(7294),u=t(2256),h=t(7462),m=t(6010),p=t(8459),v=t(8935),g=t(2519),f=t(9591);function Z(e){var r=e.children,t=e.className,s=e.computer,n=e.color,a=e.floated,i=e.largeScreen,c=e.mobile,o=e.only,l=e.stretched,u=e.tablet,f=e.textAlign,b=e.verticalAlign,w=e.widescreen,x=e.width,y=(0,m.Z)(n,(0,p.lG)(l,"stretched"),(0,p.MR)(o,"only"),(0,p.X4)(f),(0,p.cD)(a,"floated"),(0,p.Ok)(b),(0,p.H0)(s,"wide computer"),(0,p.H0)(i,"wide large screen"),(0,p.H0)(c,"wide mobile"),(0,p.H0)(u,"wide tablet"),(0,p.H0)(w,"wide widescreen"),(0,p.H0)(x,"wide"),"column",t),j=(0,v.Z)(Z,e),C=(0,g.Z)(Z,e);return d.createElement(C,(0,h.Z)({},j,{className:y}),r)}Z.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],Z.propTypes={},Z.create=(0,f.u5)(Z,(function(e){return{children:e}}));var b=Z;function w(e){var r=e.centered,t=e.children,s=e.className,n=e.color,a=e.columns,i=e.divided,c=e.only,o=e.reversed,l=e.stretched,u=e.textAlign,f=e.verticalAlign,Z=(0,m.Z)(n,(0,p.lG)(r,"centered"),(0,p.lG)(i,"divided"),(0,p.lG)(l,"stretched"),(0,p.MR)(c,"only"),(0,p.MR)(o,"reversed"),(0,p.X4)(u),(0,p.Ok)(f),(0,p.H0)(a,"column",!0),"row",s),b=(0,v.Z)(w,e),x=(0,g.Z)(w,e);return d.createElement(x,(0,h.Z)({},b,{className:Z}),t)}w.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],w.propTypes={};var x=w;function y(e){var r=e.celled,t=e.centered,s=e.children,n=e.className,a=e.columns,i=e.container,c=e.divided,o=e.doubling,l=e.inverted,u=e.padded,f=e.relaxed,Z=e.reversed,b=e.stackable,w=e.stretched,x=e.textAlign,j=e.verticalAlign,C=(0,m.Z)("ui",(0,p.lG)(t,"centered"),(0,p.lG)(i,"container"),(0,p.lG)(o,"doubling"),(0,p.lG)(l,"inverted"),(0,p.lG)(b,"stackable"),(0,p.lG)(w,"stretched"),(0,p.sU)(r,"celled"),(0,p.sU)(c,"divided"),(0,p.sU)(u,"padded"),(0,p.sU)(f,"relaxed"),(0,p.MR)(Z,"reversed"),(0,p.X4)(x),(0,p.Ok)(j),(0,p.H0)(a,"column",!0),"grid",n),k=(0,v.Z)(y,e),A=(0,g.Z)(y,e);return d.createElement(A,(0,h.Z)({},k,{className:C}),s)}y.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],y.Column=b,y.Row=x,y.propTypes={};var j=y,C=t(967),k=t(2469),A=t(4148),N=t(1508),M=t(4111),_=t(4924),R=t(5424),S=t(416),G=t(8156),q=t(6215),T=function(e){(0,i.Z)(t,e);var r=(0,c.Z)(t);function t(){var e;(0,n.Z)(this,t),e=r.apply(this,arguments),(0,_.Z)((0,M.Z)(e),"state",{value:"",errorMessage:"",successMessage:"",loading:!1});var a=(0,M.Z)(e);return(0,_.Z)((0,M.Z)(e),"onSubmit",function(){var e=(0,s.Z)((function(e){var r,t,s;return(0,o.__generator)(this,(function(n){switch(n.label){case 0:e.preventDefault(),a.setState({loading:!0,errorMessage:"",successMessage:""}),r=(0,A.Z)(a.props.address),n.label=1;case 1:return n.trys.push([1,4,,5]),[4,N.Z.eth.getAccounts()];case 2:return t=n.sent(),[4,r.methods.contribute().send({from:t[0],value:N.Z.utils.toWei(a.state.value,"ether")})];case 3:return n.sent(),q.Router.replaceRoute("/campaigns/".concat(a.props.address)),a.setState({successMessage:"You made your contribution!"}),[3,5];case 4:return s=n.sent(),a.setState({errorMessage:s.message}),[3,5];case 5:return a.setState({loading:!1,value:""}),[2]}}))}));return function(r){return e.apply(this,arguments)}}()),e}return(0,a.Z)(t,[{key:"render",value:function(){var e=this;return(0,l.jsxs)(R.Z,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,success:!!this.state.successMessage,children:[(0,l.jsxs)(R.Z.Field,{children:[(0,l.jsx)("label",{children:"Amount to Contribute "}),(0,l.jsx)(S.Z,{value:this.state.value,onChange:function(r){return e.setState({value:r.target.value})},label:"ether",labelPosition:"right"})]}),(0,l.jsx)(G.Z,{error:!0,header:"Oops!",content:this.state.errorMessage}),(0,l.jsx)(G.Z,{success:!0,header:"Congrats!",content:this.state.successMessage}),(0,l.jsx)(C.Z,{primary:!0,loading:this.state.loading,children:"Contribute!"})]})}}]),t}(d.Component),E=T,H=function(e){(0,i.Z)(t,e);var r=(0,c.Z)(t);function t(){return(0,n.Z)(this,t),r.apply(this,arguments)}return(0,a.Z)(t,[{key:"renderCards",value:function(){var e=this.props,r=e.balance,t=e.manager,s=e.minimumContribution,n=e.requestCount,a=e.approversCount,i=[{header:t,meta:"Address of Manager",description:"The manager created this campaign and can create requests to withdraw money",style:{overflowWrap:"break-word"}},{header:e.campaignTitle,meta:"Campaign Description",description:e.campaignDescription,style:{overflowWrap:"break-word"}},{header:s,meta:"Minimum Contribution (wei)",description:"You must contribute at least this much wei to became an approver",style:{overflowWrap:"break-word"}},{header:n,meta:"Number of requests",description:"A request tries to withdraw money from the contract. Request must be approved by approvers"},{header:a,meta:"Number of Approvers",description:"Number of people who have already donated to this campaign"},{header:N.Z.utils.fromWei(r,"ether"),meta:"Campaign Balance (ether)",description:"The balance is how much money this campaign has left to spend"}];return(0,l.jsx)(u.Z.Group,{itemsPerRow:2,items:i})}},{key:"render",value:function(){return(0,l.jsxs)(k.Z,{children:[(0,l.jsx)("h3",{children:"Campaign Show"}),(0,l.jsxs)(j,{children:[(0,l.jsxs)(j.Row,{children:[(0,l.jsx)(j.Column,{width:10,children:this.renderCards()}),(0,l.jsx)(j.Column,{width:6,children:(0,l.jsx)(E,{address:this.props.address})})]}),(0,l.jsx)(j.Row,{children:(0,l.jsx)(j.Column,{children:(0,l.jsx)(q.Link,{route:"/campaigns/".concat(this.props.address,"/requests"),children:(0,l.jsx)("a",{children:(0,l.jsx)(C.Z,{primary:!0,children:"View Requests"})})})})})]})]})}}],[{key:"getInitialProps",value:function(e){return(0,s.Z)((function(){var r;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,A.Z)(e.query.address).methods.getSummary().call()];case 1:return r=t.sent(),[2,{address:e.query.address,minimumContribution:r[0],balance:r[1],requestCount:r[2],approversCount:r[3],manager:r[4],campaignTitle:r[5],campaignDescription:r[6]}]}}))}))()}}]),t}(d.Component),P=H}},function(e){e.O(0,[543,177,578,906,774,888,179],(function(){return r=8164,e(e.s=r);var r}));var r=e.O();_N_E=r}]);